<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2-44 Promise</title>
</head>
<body>
Promise
Callbacks
JavaScipt 中的许多操作都是异步的，比如我们想加载一个脚本资源，可以把这个操作封装在一个 loadscript(scr) 函数：
function loadscript (src) {
  let script = document.createElement('script')
  script.src = src
  document.head.append(script)
}

<!-- 这个函数的作用是加载一个新的脚本。当使用 <script src="…"> 将其添加到文档中时，浏览器就会对它进行加载和执行。 -->

  
  我们可以像这样使用
  //加载并执行脚本
  loadscript('/my.script.js');
  // 函数是异步调用的，因为操作不是此刻（加载脚本）完成的，而是之后。
  <!-- // 调用初始化脚本加载，然后继续执行。当脚本正在被加载时，下面的代码可能已经完成了执行，如果加载需要时间，那么同一时间，其他脚本可能这个函数的作用是加载一个新的脚本，当使用 //<script src='...'> //将其添加到文档中时，浏览器就会对他进行加载和执行。 -->
    //loadScript('/my/script.js');
// 下面的代码在加载脚本时，不会等待脚本被加载完成
// ...

// 现在，我们假设想在新脚本被加载完成时，被立即使用。它可能声明了新函数，因此我们想要运行它们。
// 但如果我们在 loadScript(…) 调用后，立即那么做，就会导致操作失败。
</body>
</html>